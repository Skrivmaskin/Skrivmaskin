// This file has been autogenerated from a class added in the UI designer.

using System;
using System.Linq;
using Foundation;
using AppKit;
using System.Collections.Generic;
using TextOn.Compiler;
using CoreGraphics;

namespace TextOn.Studio
{
	public partial class SetNounValuesViewController : NSViewController
	{
		public SetNounValuesViewController (IntPtr handle) : base (handle)
		{
		}

        public override void ViewDidLoad ()
        {
            base.ViewDidLoad ();

            SetNounValuesCollectionView.DataSource = new SetNounValuesCollectionViewDataSource ();
            ConfigureCollectionView ();
        }

        //TODO obviously this will break...
        public IReadOnlyDictionary<string, string> VariableValues {
            get {
                return new Dictionary<string, string> ();
            }
        }

//        private CentralViewController parent = null;
        internal void SetControllerLinks (CentralViewController centralViewController)
        {
            Console.Error.WriteLine ("SetNounValues SetControllerLinks");

//            this.parent = centralViewController;   
        }

        internal void SetCompiledTemplate ()
        {
            Console.Error.WriteLine ("SetNounValues SetCompiledTemplate");
        }

        private void ConfigureCollectionView ()
        {
            var flowLayout = new NSCollectionViewFlowLayout ();
            flowLayout.ItemSize = new CGSize (width: 250.0, height: 150.0);
            flowLayout.SectionInset = new NSEdgeInsets (top: (nfloat)20.0, left: (nfloat)10.0, bottom: (nfloat)20.0, right: (nfloat)10.0);
            flowLayout.MinimumInteritemSpacing = (nfloat)20.0;
            flowLayout.MinimumLineSpacing = (nfloat)20.0;
            SetNounValuesCollectionView.CollectionViewLayout = flowLayout;
            // 2
            View.WantsLayer = true;
            // 3
        }
	}
}
